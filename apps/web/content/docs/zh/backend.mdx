---
title: 后端工程师
description: 全栈后端开发，包括 API 设计、数据库架构和 TDD。
---

## 简介

|            |                     |
| ---------- | ------------------- |
| **角色**   | 后端工程师          |
| **包名**   | `@the-aico/backend` |
| **技能数** | 4                   |
| **命令数** | 3                   |

全栈后端开发：API 设计、数据库架构、业务逻辑实现，以及 TDD 方式的系统设计。

## 安装

```bash
aico add @the-aico/backend
```

---

## 技能

### init

通过模板创建约束文档来初始化后端环境。

**使用场景：**

- 运行 `/backend.init` 命令时
- 用户要求"初始化后端"、"设置后端环境"
- 开始后端工作需要建立技术栈和规范时
- 需要创建 `docs/reference/backend/constraints.md` 时

### task-breakdown

将 PM 故事拆分为后端任务，按分层架构顺序：数据模型 → 数据库 → 仓储层 → 服务层 → API → 验证 → 测试。

**使用场景：**

- 运行 `/backend.tasks` 命令时
- 用户要求"拆分后端故事"、"创建后端任务"、"分解成后端任务"
- 在 `docs/reference/pm/stories/` 有故事并需要有组织的任务列表
- 需要按架构层级排序的任务（而非随机顺序）
- 开始后端工作并想要有组织的分层任务列表

### plan

为单个后端任务创建原子化实现计划。每个步骤都有 TDD、确切代码和验证命令。

**使用场景：**

- 运行 `/backend.plan` 命令时
- 用户明确要求"原子步骤"、"带验证的逐步计划"
- 有来自 `docs/reference/backend/tasks/` 的特定任务并需要实现步骤
- 需要细粒度 TDD 步骤：类型 → 数据库 → 测试（失败）→ 实现 → 测试（通过）→ API

**不要用于：**

- 架构规划（使用 EnterPlanMode）
- 通用开发规划
- 功能范围界定或估算

### implement

以 TDD（测试驱动开发）方式执行后端实现。先写失败的测试，然后实现，每步验证。

**使用场景：**

- 用户要求"实现这个后端任务"、"实现后端"
- 有实现计划准备好并需要执行
- 执行 `/backend.plan` 输出的步骤
- 用户说"开始写后端代码"、"写后端代码"
- 用户要求"使用 TDD"、"先写测试"、"测试驱动"的后端代码
- 修复后端 bug（先写重现 bug 的失败测试）

**TDD 铁律：** 没有失败的测试就没有生产代码。

---

## 命令

### /backend.init

初始化后端约束文件，包含项目特定配置。

```bash
/backend.init
```

创建配置文档，包括：

- 技术栈（Node.js、Python、Go 等）
- 框架（Express、FastAPI 等）
- 数据库（PostgreSQL、MongoDB 等）
- API 风格（REST、GraphQL）
- 认证方案
- 测试要求

### /backend.tasks

将故事拆分为后端任务并跟踪进度。

```bash
/backend.tasks S-001
```

创建原子化任务列表：

- 数据库 schema 变更
- API 接口
- 业务逻辑
- 集成测试

### /backend.plan

为特定任务创建原子化实现计划。

```bash
/backend.plan BE-001
```

产出逐步实现指南，包括：

- 数据库迁移
- API 契约
- 错误处理
- 测试用例

---

## 文档结构

```txt
docs/reference/backend/
├── constraints.md       # 项目约束
└── tasks/
    └── BE-001.md        # 任务定义
```

---

## 工作流程

1. **初始化**项目约束（`init`）
2. 将故事**拆分**为任务（`task-breakdown`）
3. **规划**每个任务的实现（`plan`）
4. 以 TDD 方式**实现**（`implement`）

---

## API 设计原则

后端员工遵循以下原则：

- **契约优先：** 在实现前定义 API 契约
- **TDD：** 在实现代码前编写测试
- **增量式：** 小的、可审查的变更
- **文档化：** 自动生成 API 文档
