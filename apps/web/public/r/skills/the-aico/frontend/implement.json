{
  "name": "implement",
  "namespace": "@the-aico/frontend",
  "fullName": "@the-aico/frontend/implement",
  "version": "1.0.0",
  "description": "Execute frontend implementation with TDD. Read all constraint files before coding, write failing test first, verify after each step.\n\nUse this skill when:\n- User asks to \"implement this\", \"implement the plan\", \"start implementation\", \"execute plan\"\n- Have an implementation plan ready and need to execute it\n- Executing steps from /frontend.plan output\n- User says \"start coding\", \"write the code\", \"begin implementation\"\n- User asks to \"use TDD\", \"write test first\", \"test-driven\" for frontend code\n- User asks to \"write tests\", \"add tests\", \"create tests\"\n- Fixing UI bugs (write failing test that reproduces bug first)\n\nTDD Iron Law: NO PRODUCTION CODE WITHOUT A FAILING TEST FIRST\nTDD Cycle: RED (write failing test) → Verify fails → GREEN (minimal code) → Verify passes → REFACTOR\n\nPrerequisites:\n- MUST have task file in docs/reference/frontend/tasks/ (use /frontend.tasks first if not exists)\n- MUST read design-system.md, constraints.md, and design spec before writing any code.\nFlow: Check Task File → Read Constraints → TDD Cycle (RED→GREEN→REFACTOR) → Verify Each → Test → Update Task Status → Notify PM\n",
  "category": "frontend",
  "tags": [],
  "dependencies": [],
  "files": [
    {
      "path": "SKILL.md",
      "type": "skill",
      "content": "---\nname: aico-frontend-implement\ndescription: |\n  Execute frontend implementation with TDD. Read all constraint files before coding, write failing test first, verify after each step.\n\n  Use this skill when:\n  - User asks to \"implement this\", \"implement the plan\", \"start implementation\", \"execute plan\"\n  - Have an implementation plan ready and need to execute it\n  - Executing steps from /frontend.plan output\n  - User says \"start coding\", \"write the code\", \"begin implementation\"\n  - User asks to \"use TDD\", \"write test first\", \"test-driven\" for frontend code\n  - User asks to \"write tests\", \"add tests\", \"create tests\"\n  - Fixing UI bugs (write failing test that reproduces bug first)\n\n  TDD Iron Law: NO PRODUCTION CODE WITHOUT A FAILING TEST FIRST\n  TDD Cycle: RED (write failing test) → Verify fails → GREEN (minimal code) → Verify passes → REFACTOR\n\n  Prerequisites:\n  - MUST have task file in docs/reference/frontend/tasks/ (use /frontend.tasks first if not exists)\n  - MUST read design-system.md, constraints.md, and design spec before writing any code.\n  Flow: Check Task File → Read Constraints → TDD Cycle (RED→GREEN→REFACTOR) → Verify Each → Test → Update Task Status → Notify PM\n---\n\n# Implement\n\n## Language Configuration\n\nBefore generating any content, check `aico.json` in project root for `language` field to determine the output language. If not set, default to English.\n\n## Process\n\n0. **Check task file EXISTS** (MANDATORY):\n   - Look for `docs/reference/frontend/tasks/{story-id}.md`\n   - If NOT exists → STOP and tell user: \"Please run /frontend.tasks first to break down the story\"\n   - If exists → proceed to step 1\n\n1. **Read constraints FIRST** (before any code):\n   - `docs/reference/frontend/design-system.md` - Colors, typography, spacing\n   - `docs/reference/frontend/constraints.md` - Tech stack, patterns\n   - `docs/reference/frontend/designs/{name}.md` - Component specs\n2. **Execute each step in order**:\n   - Run the action\n   - Run verification command\n   - If fail → fix before proceeding\n   - If pass → continue to next step\n3. **After all steps**:\n   - Run unit tests\n   - Run build check\n4. **Update task status** in `docs/reference/frontend/tasks/{story}.md`\n5. **Notify PM for acceptance** - Notify PM to verify (PM checks all related tasks and updates Story status)\n6. **Commit changes** (user decides when to commit)\n\n## Execution Flow\n\n```\nCheck Task File → Read Constraints → Execute Steps → Verify Each → Test → Mark Complete → Notify PM → Commit\n```\n\n## Step Execution Rules\n\n### Rule 1: Follow Constraints Exactly\n\n```tsx\n// ❌ Wrong: Ignore design system\n<button className=\"bg-blue-500 text-white\">\n\n// ✅ Right: Use design tokens\n<button className=\"bg-primary text-primary-foreground\">\n```\n\n### Rule 2: Verify Before Proceeding\n\nEach step has a Verify section - MUST run it and confirm expected output before moving on.\n\n### Rule 3: No Skipping\n\n- Execute ALL steps in order\n- Do NOT combine steps\n- Do NOT skip verification\n\n## Post-Implementation Checklist\n\n1. **Run tests**: `npm test [component]`\n2. **Run build**: `npm run build`\n3. **Update task status** in tasks file\n4. **Notify PM**: Tell PM frontend tasks are complete, request acceptance\n5. **Commit** (user decides when): `git commit -m \"feat([scope]): [description]\"`\n\n## Error Handling\n\n| Error Type           | Action                                 |\n| -------------------- | -------------------------------------- |\n| TypeScript error     | Fix type issues, re-verify             |\n| Test failure         | Debug test, fix implementation or test |\n| Build failure        | Check imports, fix errors              |\n| Constraint violation | Re-read constraints, align code        |\n\n## Key Rules\n\n- ALWAYS read all constraint files before writing any code\n- MUST run verification command for each step\n- ALWAYS run tests before marking task complete\n- MUST update task status in tasks/{story}.md\n- MUST notify PM after completing all tasks (PM handles story verification)\n- Let user decide when to commit\n\n## Common Mistakes\n\n- ❌ Implement without task file → ✅ ALWAYS run /frontend.tasks first to break down story\n- ❌ Skip reading constraints → ✅ ALWAYS read before coding\n- ❌ Skip verification → ✅ Run verify command for each step\n- ❌ Skip tests → ✅ Run tests before marking complete\n- ❌ Forget to update task status → ✅ Update tasks/{story}.md\n- ❌ Directly update story status → ✅ Notify PM, let PM verify and update story\n\n---\n\n## TDD Deep Dive\n\n### The TDD Iron Law\n\n```\nNO PRODUCTION CODE WITHOUT A FAILING TEST FIRST\n```\n\nWrite code before the test? **Delete it. Start over.**\n\n### Red-Green-Refactor Cycle\n\n```\nRED → Verify Fails → GREEN → Verify Passes → REFACTOR → Repeat\n```\n\n#### 1. RED - Write Failing Test\n\n```typescript\ntest('Button shows loading state when clicked', async () => {\n  render(<SubmitButton onClick={mockSubmit} />)\n  await userEvent.click(screen.getByRole('button'))\n  expect(screen.getByRole('button')).toBeDisabled()\n  expect(screen.getByTestId('spinner')).toBeInTheDocument()\n})\n```\n\n#### 2. Verify RED - Watch It Fail\n\n```bash\nnpm test -- --watch ComponentName\n```\n\n#### 3. GREEN - Write Minimal Code\n\nWrite simplest code to pass the test. Don't add features not in test.\n\n#### 4. Verify GREEN - Watch It Pass\n\n#### 5. REFACTOR - Clean Up\n\nOnly after green. Keep tests passing.\n\n### Testing Library Query Priority\n\n1. `getByRole` - accessible by everyone\n2. `getByLabelText` - form fields\n3. `getByText` - non-interactive elements\n4. `getByTestId` - last resort\n\n### Test Coverage Requirements\n\n| Component Type | Required Tests                   |\n| -------------- | -------------------------------- |\n| UI Component   | Render, props, variants          |\n| Form           | Validation, submit, error states |\n| Interactive    | User events, callbacks           |\n| Data Display   | Loading, error, empty states     |\n\n### TDD Red Flags - STOP and Start Over\n\n- Code before test\n- Test passes immediately\n- Testing implementation details\n- `querySelector` everywhere\n\n---\n\n## Iron Law\n\n**NO CODE WITHOUT APPROVED PLAN**\n\nThis rule is non-negotiable. Before writing code:\n\n1. Task breakdown must exist and be approved\n2. Acceptance criteria must be defined\n3. Dependencies must be identified and available\n\n### Rationalization Defense\n\n| Excuse                         | Reality                                     |\n| ------------------------------ | ------------------------------------------- |\n| \"It's a simple change\"         | Simple changes often have hidden complexity |\n| \"I'll document after coding\"   | Post-hoc documentation is always incomplete |\n| \"Tests can wait until later\"   | Untested code is broken code                |\n| \"I know what needs to be done\" | Assumptions without validation cause bugs   |\n"
    }
  ]
}
