{
  "name": "task-breakdown",
  "namespace": "@the-aico/backend",
  "fullName": "@the-aico/backend/task-breakdown",
  "version": "1.0.0",
  "description": "Break down PM story into organized tasks in a single file following LAYERED ARCHITECTURE order: Types → Database → Repository → Service → API → Tests.\n\nUNIQUE VALUE: Creates single task file (story-{name}.md) containing all tasks for a story. Tasks are ordered by backend architecture layers.\n\nUse this skill when:\n- Running /backend.tasks command\n- User asks to \"break down story\", \"create backend tasks\", \"split into tasks\"\n- Have story at docs/reference/pm/stories/ and need organized task breakdown\n- Need tasks ordered by backend architecture layers (not random order)\n- Starting backend work and want organized task list\n\nTask order is CRITICAL: Setup → Static UI → Dynamic → Interactions → Tests\nOutput: Create single file docs/reference/backend/tasks/story-{name}.md with all tasks\n",
  "category": "backend",
  "tags": [],
  "dependencies": [],
  "files": [
    {
      "path": "SKILL.md",
      "type": "skill",
      "content": "---\nname: aico-backend-task-breakdown\ndescription: |\n  Break down PM story into organized tasks in a single file following LAYERED ARCHITECTURE order: Types → Database → Repository → Service → API → Tests.\n\n  UNIQUE VALUE: Creates single task file (story-{name}.md) containing all tasks for a story. Tasks are ordered by backend architecture layers.\n\n  Use this skill when:\n  - Running /backend.tasks command\n  - User asks to \"break down story\", \"create backend tasks\", \"split into tasks\"\n  - Have story at docs/reference/pm/stories/ and need organized task breakdown\n  - Need tasks ordered by backend architecture layers (not random order)\n  - Starting backend work and want organized task list\n\n  Task order is CRITICAL: Setup → Static UI → Dynamic → Interactions → Tests\n  Output: Create single file docs/reference/backend/tasks/story-{name}.md with all tasks\n---\n\n# Task Breakdown\n\n## ⚠️ CRITICAL RULES - READ FIRST\n\n**BEFORE doing anything, you MUST:**\n\n1. **CHECK EXISTING TASK FILE FIRST**:\n   - ALWAYS check if `story-{story-name}.md` already exists in `docs/reference/backend/tasks/`\n   - If exists: READ it and continue from current progress (add new tasks or update existing ones)\n   - If not exists: Create new task breakdown file\n   - **NEVER re-break down existing tasks**\n\n2. **FILE NAMING**:\n   - Pattern: `story-{story-name}.md` (single file per story)\n   - Example: `story-user-profile.md`\n   - All tasks for this story go into this ONE file\n   - Tasks are separated by `---` dividers\n\n3. **MULTIPLE TASKS IN ONE FILE**:\n   - One file contains ALL tasks for the story\n   - Each task = independently testable section\n   - Clear scope and acceptance criteria per task\n   - Tasks numbered sequentially (Task 1, Task 2, etc.)\n\n4. **ALWAYS SAVE TO CORRECT PATH**:\n   - Path: `docs/reference/backend/tasks/story-{story-name}.md`\n   - NO exceptions, NO other locations\n\n5. **READ CONTEXT FIRST**:\n   - Read story from `docs/reference/pm/stories/`\n   - Read design from `docs/reference/backend/designs/` if exists\n   - Read design system from `docs/reference/backend/design-system.md`\n   - Read constraints from `docs/reference/backend/constraints.md`\n\n## Language Configuration\n\nBefore generating any content, check `aico.json` in project root for `language` field to determine the output language. If not set, default to English.\n\n## Process\n\n1. **Read story/PRD**: Load from `docs/reference/pm/stories/` or `docs/reference/pm/versions/`\n2. **Read design** (if exists): Load from `docs/reference/backend/designs/`\n3. **Read constraints**: Load design system and technical constraints\n4. **Identify components**: What backend layers are needed\n5. **Identify interactions**: What APIs and data flows are needed\n6. **Break into tasks**: Independently testable, single responsibility, by architecture layer\n7. **Order by dependencies**: Types → DB → Repository → Service → API → Tests\n8. **Generate single file**: Create `story-{story-name}.md` with all tasks in sections\n9. **Update Story file**: Add \"Related Tasks\" section to story file with link to task file\n10. **Summary**: Show created file and next steps\n\n## Task File Format\n\nSee [Task File Template](references/task-file-template.md) for complete structure.\n\n**Key points:**\n\n- Single file contains all tasks for the story\n- Tasks numbered sequentially (Task 1, Task 2, etc.)\n- Each task has: Description, Context, Acceptance Criteria, Scope, Implementation Steps\n- Progress section at the end tracks completion\n- Both story-based and standalone use the same format (only filename differs)\n- Backend tasks ordered by architecture layers: Types → DB → Repository → Service → API → Tests\n\n## Updating Story File\n\nAfter generating the task file, **ALWAYS** update the story file to add the \"Related Tasks\" section:\n\n```markdown\n## Related Tasks\n\n### Backend Tasks\n\nTask breakdown: [docs/reference/backend/tasks/story-user-profile.md](../backend/tasks/story-user-profile.md)\n\n**Progress**: 0/6 tasks completed\n\n- [ ] Task 1: Define Types\n- [ ] Task 2: Database Schema\n- [ ] Task 3: Repository Layer\n- [ ] Task 4: Service Layer\n- [ ] Task 5: API Endpoints\n- [ ] Task 6: Add Tests\n```\n\n**Key points:**\n\n- Add this section at the end of the story file (before any existing notes)\n- Include link to the task file\n- Use `- [ ]` checkboxes for each task (will be checked when task completes)\n- List tasks in execution order (Types → DB → Repository → Service → API → Tests)\n- Keep the section organized by frontend/backend if both exist\n- Include progress counter (X/Y tasks completed)\n\n## Output Example\n\nAfter breaking down \"user-profile\" story:\n\n```\nCreated task file for story 'user-profile':\n\n✓ docs/reference/backend/tasks/story-user-profile.md\n\nTask breakdown includes:\n- Task 1: Define Types (setup)\n- Task 2: Database Schema (feature)\n- Task 3: Repository Layer (feature)\n- Task 4: Service Layer (feature)\n- Task 5: API Endpoints (feature)\n- Task 6: Add Tests (testing)\n\nTotal: 6 tasks\n\nNext steps:\n1. Review task breakdown in story-user-profile.md\n2. Use /backend.plan to add detailed steps to specific tasks\n3. Use /backend.implement to start executing tasks\n```\n\n## Key Rules\n\n- ALWAYS create a single file containing all tasks for the story\n- MUST use `story-{story-name}.md` naming (NOT multiple files)\n- ALWAYS include test tasks at the end\n- MUST note dependencies between tasks (in each task's metadata)\n- Keep tasks focused - not too big, not too small\n- Each task section is self-contained with clear acceptance criteria\n- Separate tasks with `---` dividers\n- Include Story Progress section at the end of file\n\n## Common Mistakes\n\n- ❌ Tasks too large (full feature) → ✅ Break into layers\n- ❌ Tasks too small (add one field) → ✅ Group related work\n- ❌ Skip dependencies → ✅ Note which tasks depend on others\n- ❌ Forget testing → ✅ Always include test tasks\n- ❌ Create multiple files → ✅ Use single file with multiple task sections\n"
    },
    {
      "path": "references/task-file-template.md",
      "type": "doc",
      "content": "# Task File Template\n\nThis template defines the structure for backend task breakdown files.\n\n## Story-based Task File\n\n**Filename**: `story-{story-name}.md`\n\n**Location**: `docs/reference/backend/tasks/`\n\n```markdown\n# Story Tasks: [Story Name]\n\n> **Story**: docs/reference/pm/stories/{story-id}.md\n> **Design**: docs/reference/backend/designs/{design-name}.md (if applicable)\n> **Role**: backend\n> **Created**: YYYY-MM-DD\n> **Updated**: YYYY-MM-DD\n\n---\n\n## Task 1: [Task Name]\n\n> **Status**: pending | in_progress | completed\n> **Type**: setup | feature | improvement\n> **Depends on**: -\n> **Estimated**: 1-2h (optional)\n\n### Description\n\n[Clear description of what this task achieves]\n\n### Context\n\n- Part of [Story Name] story\n- First task - sets up foundation\n- Should follow design system tokens\n\n### Acceptance Criteria\n\n- [ ] Criterion 1\n- [ ] Criterion 2\n- [ ] Criterion 3\n\n### Scope\n\n**Files to create/modify:**\n\n- Create: `src/components/...`\n- Modify: `src/pages/...`\n\n**Key components:**\n\n- Component A\n- Component B\n\n### Implementation Steps\n\n> Note: Detailed steps can be added using `/backend.plan` command\n\n1. [Brief step description]\n2. [Brief step description]\n3. [Brief step description]\n\n### Notes\n\n[Any additional notes, considerations, or technical decisions]\n\n---\n\n## Task 2: [Task Name]\n\n> **Status**: pending\n> **Type**: feature\n> **Depends on**: Task 1\n\n### Description\n\n[Clear description of what this task achieves]\n\n### Context\n\n- Part of [Story Name] story\n- Depends on: Task 1 (setup must be complete)\n- Implements [specific feature/component]\n\n### Acceptance Criteria\n\n- [ ] Criterion 1\n- [ ] Criterion 2\n\n### Scope\n\n**Files to create/modify:**\n\n- Create: `src/components/...`\n\n### Implementation Steps\n\n> Note: Add detailed steps using `/backend.plan story-{name}` and specify task number\n\n1. [Brief step description]\n\n### Notes\n\n[Any notes]\n\n---\n\n## Task 3: Add Tests\n\n> **Status**: pending\n> **Type**: testing\n> **Depends on**: Task 2\n\n### Description\n\nAdd comprehensive unit and integration tests for all implemented features.\n\n### Acceptance Criteria\n\n- [ ] Unit tests for all components\n- [ ] Integration tests for user flows\n- [ ] All tests passing\n\n### Scope\n\n**Files to create:**\n\n- `src/components/__tests__/...`\n\n### Implementation Steps\n\n1. Write unit tests\n2. Write integration tests\n3. Verify all tests pass\n\n---\n\n## Progress\n\n- Total tasks: 3\n- Completed: 0\n- In progress: 0\n- Pending: 3\n\n**Next task**: Task 1: [Task Name]\n```\n\n## Standalone Task File\n\n**Filename**: `standalone-{requirement-name}.md`\n\n**Location**: `docs/reference/backend/tasks/`\n\n**Structure**: Same as story-based task file, just replace:\n\n- Header: `# Standalone Tasks: [Requirement Name]`\n- Remove `> **Story**: ...` line (no story reference)\n- Otherwise identical structure\n\n## Task Types\n\n| Type        | Examples                                |\n| ----------- | --------------------------------------- |\n| Setup       | Create component structure, setup state |\n| UI          | Implement section/component layout      |\n| Logic       | Add form validation, API integration    |\n| Interaction | Implement hover, click, animations      |\n| Testing     | Unit tests, integration tests           |\n\n## Ordering Rules\n\n1. **Setup tasks first** - Component structure, routing\n2. **Static UI before dynamic** - Layout before logic\n3. **Core functionality before edge cases** - Happy path first\n4. **Tests after implementation** - Each feature gets tests\n"
    }
  ]
}
